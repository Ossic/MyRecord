## 什么是MVC

MVC模式(Model-View-Controller)是软件工程中的一种软件架构模式，把软件系统分为三个基本部分：模型(Model)、视图(View)和控制器(Controller)。最早由Trygve Reenskaug在1978年提出，并应用在Smalltalk系统中。

- **Model：**封装领域数据及逻辑。用于管理应用程序域的行为和数据，并响应为获取其状态信息(通常来自视图)而发出的请求，还会响应更改状态的指令(通常来自控制器)。
- **View：**查询领域数据并展现给用户。用于管理信息的显示。
- **Conctroller：**截获用户请求并改变领域数据。用于解释用户的鼠标和键盘输入，以通知模型和/或视图进行相应的更改。

> 1）最上面的一层，是直接面向最终用户的"视图层"（View）。它是提供给用户的操作界面，是程序的外壳。
> 2）最底下的一层，是核心的"数据层"（Model），也就是程序需要操作的**数据或信息**。
> 3）中间的一层，就是"控制层"（Controller），它负责根据用户从"视图层"输入的指令，选取"数据层"中的数据，然后对其**进行相应的操作**，产生最终结果。

从依赖关系看，**Model不依赖View和Controller，而View和Controller依赖Model。**

Classic MVC关注两个分离：

- 从Model中分离View
- 从View中分离Controller

从Model中分离View，主要基于以下几点考虑：

1. 不同的关注点：Model关注内在的不可视的逻辑，而View关注外在的可视的逻辑。
2. 多种表现形式：同一个Model往往需要多种View表现形式。
3. 提高可测试性：相对Model而言，View是不容易测试的。

Desktop软件的时代，View和Controller往往是一一对应的关系，所以常常把他们合并成为UI，事实上，当时多数UI框架都没有实现从View中分离Controller。后来随着Web的兴起，这种分离(模板技术)才开始流行起来。

## 参考

http://www.imooc.com/article/1022

# 三层架构与MVC的区别

## 首先，它俩根本不是一个概念。

三层架构是一个分层式的软件体系架构设计，**它可适用于任何一个项目。**
**MVC是一个设计模式**，它是根据项目的具体需求来决定是否适用于该项目。

那么架构跟设计模式有什么区别呢？

我们从接手一个项目开始，首先，我们需要进行架构设计，一般我们采用的就是分层式的架构设计，即我们的三层架构。

然后，在确定了架构以后，我们再根据项目的具体需求去考虑是否需要应用一些设计模式，比如是否应用我们的MVC模式，抽象工厂模式等等。（在这里我们看出，MVC与三层架构不是一个等级的，而与抽象工厂等设计模式才是一路的）

最后，确定了模式以后，就是我们的一些具体的实现了。（当然一个项目不仅仅考虑这些问题，我只是为了说明两者的区别，将其他问题已省略）

## 其次，它俩划分的层次不同。

三层架构将整个项目划分为：表现层（UI）、业务逻辑层（BLL）、数据访问层（DAL）。
MVC 即Model（模型），View（视图），Controller（控制）。

下面看一下他俩的区别与联系：

通过这个图我们可以知道，我们平常所说的V是UI，C是BLL，M是DAL的观点是错误的。
而我们通常所见到的MVC一般也都是在应用三层架构的基础上，即将Model层再进行分层。而如果Model不再进行划分的话，那么使用MVC的意义也就不大了。

### 然后，它俩的目的着重点不同。

**三层架构的目的着重点是“高内聚，低耦合”，即解耦。**
MVC的目的则是实现Web系统的职能分工，即职责划分。
其实职责划分也是解耦，但是三层侧重的是整体的一个解耦，而MVC侧重的是web系统的解耦，即侧重jsp和Servlet的一个解耦。

### 最后，为何我们会将其混为一谈？

既然两者有这么多的不同，我们为什么还总是将其混淆呢，下面我列举了几个我们常常将其混为一谈的几个原因：

**1.二者都是“三层”。**

这个原因是最容易迷惑我们初学者的，一个是UI,BLL,DAL，一个是View，Controller，Model，不都是三层吗？
虽然都是“三层”（不一定是真的三层，还可以是多层），但是它们的划分的不一样。大家可从上面的图中看出不同。

**2.MVC总是伴随着三层架构。**

这个就是我在前面一再强调的，我们一般是在考虑使用（也可以不使用）了三层架构的基础上再根据具体需求决定是否需要使用MVC，于是我们常说的MVC中总是伴随着三层架构，所以大家总是会认为MVC就是三层架构，三层架构就是MVC，殊不知，它们二者是一起出现的。

**3.都是在分层，即都是在解耦。**

前面说它们目的的时候也说了，虽然它们的侧重点不同，但是它们的总体目的是一样的，都是为了解耦，对于初学者而言，是不知道这两个侧重点有何不同的。