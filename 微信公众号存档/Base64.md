# Base64

>   Base64是一种基于64个**可打印字符**来表示二进制数据的表示方法。由于2的6次方等于64，**所以每6个比特为一个单元**，对应某个可打印字符。
>
>   三个字节有24个比特(1byte=8bit)，对应于4个Base64单元，即3个字节可表示4个可打印字符。它可用来作为电子邮件的传输编码。
>
>   **Base64常用于在通常处理文本数据的场合，表示、传输、存储一些二进制数据。包括MIME的email、在XML中存储复杂数据。**

## 编码方式

所谓Base64，就是说选出64个字符：小写字母a-z、大写字母A-Z、数字0-9、符号"+"、"/"（再加上作为垫字的"="[就是都是0的情况]，实际上是65个字符）

然后把这些字符作为一个基本字符集。然后，其他所有符号都转换成这个字符集中的字符。

编码可分为四部：

1.  将每三个字节作为一组（上面说过了3个字节可用4个可打印字符来表示），一共是24( 3 * 8bit )个二进制位。
2.  将这24个二进制位分为四组，每个组有6个二进制位。
3.  在每组前面加两个00，扩展成32个二进制位，即四个字节。
4.  根据下表，得到扩展后的每个字节的对应符号，这就是Base64的编码值。

因此，Base64将三个字节转化成四个字节，因此Base64编码后的文本，会比原文本大出三分之一左右

汉字本身可以有多种编码，比如gb2312、utf-8、gbk等等，每一种编码的Base64对应值都不一样的

## 字节数不足三处理方法

每三个字节为一组，当然不可能都是三的倍数啊，如果不足三怎么办呢，那就补0呗

## 意义

所有的二进制文件，都可以因此转化为可打印的文本编码，使用文本软件进行编辑；

能够对文本进行简单的加密。

Base64编码可用于在HTTP环境下传递较长的标识信息，比如用作HTTP表单和HTTP GET URL中的参数，我们使用搜索引擎搜索关键字的时候就是使用Get请求，如果注意一下地址栏，会发现汉字就会被Base64转码，写程序如果遇到使用Get请求有中文的话也要进行转码

不过，垃圾消息传播者用Base64来避过反垃圾邮件工具，因为那些工具通常都不会翻译Base64的消息。

## 需要注意的

然而，标准的Base64并不适合直接放在URL里传输，因为URL编码器会把标准Base64中的`/`和`+`字符变为形如`%XX`的形式，而这些`%`号在存入数据库时还需要再进行转换，因为**ANSI SQL**中已将`%`号用作通配符。

为解决此问题，可采用一种用于URL的改进Base64编码，它不在末尾填充`=`号，并将标准Base64中的`+`和`/`分别改成了`-`和`_`，这样就免去了在URL编解码和数据库存储时所要作的转换，避免了编码信息长度在此过程中的增加，并统一了数据库、表单等处对象标识符的格式。